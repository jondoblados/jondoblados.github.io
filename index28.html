<!DOCTYPE html>
<html lang="en">
<head>
  <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,400italic' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" type="text/css" href="http://jon.doblados.net/theme/css/style.min.css">
  <link rel="stylesheet" type="text/css" href="http://jon.doblados.net/theme/css/pygments.min.css">
  <link rel="stylesheet" type="text/css" href="http://jon.doblados.net/theme/css/font-awesome.min.css">

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="robots" content="" />
  <meta name="author" content="Jon" />
  <meta name="description" content="" />
<meta property="og:site_name" content="A Pelican Blog"/>
<meta property="og:type" content="blog"/>
<meta property="og:title" content="A Pelican Blog"/>
<meta property="og:description" content=""/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="http://jon.doblados.net"/>
<meta property="og:image" content="https://dl.dropboxusercontent.com/u/712927/jon_gotchi.png">
  <title>A Pelican Blog</title>
</head>
<body>
  <aside>
    <div>
      <a href="http://jon.doblados.net">
        <img src="https://dl.dropboxusercontent.com/u/712927/jon_gotchi.png" alt="Jon Doblados" title="Jon Doblados">
      </a>
      <h1><a href="http://jon.doblados.net">Jon Doblados</a></h1>
      <p>Community Lead, Technology Evangelist</p>
      <nav>
        <ul class="list">
          <li><a href="http://jon.doblados.net/pages/about.html#about">About</a></li>
          <li><a href="http://jon.doblados.net/pages/contact.html#contact">Contact</a></li>
          <li><a href="http://getpelican.com/" target="_blank">Pelican</a></li>
          <li><a href="http://python.org/" target="_blank">Python.org</a></li>
          <li><a href="http://www.ansible.com/" target="_blank">Ansible</a></li>
        </ul>
      </nav>
      <ul class="social">
        <li><a class="sc-linkedin" href="https://ph.linkedin.com/in/JonDoblados" target="_blank"><i class="fa fa-linkedin"></i></a></li>
        <li><a class="sc-google" href="http://plus.google.com/+JonDoblados" target="_blank"><i class="fa fa-google"></i></a></li>
        <li><a class="sc-twitter" href="https://twitter.com/JonDoblados" target="_blank"><i class="fa fa-twitter"></i></a></li>
        <li><a class="sc-facebook" href="http://www.facebook.com/JonDoblados" target="_blank"><i class="fa fa-facebook"></i></a></li>
        <li><a class="sc-github" href="https://github.com/JonDoblados" target="_blank"><i class="fa fa-github"></i></a></li>
      </ul>
    </div>
  </aside>
  <main>
    <nav>
      <a href="http://jon.doblados.net">Home</a>
      <a href="/categories.html">Categories</a>
      <a href="/archives.html">Archives</a>
      <a href="/tags.html">Tags</a>
    </nav>

<article>
  <header>
    <h2><a href="http://jon.doblados.net/breakfast-after-early-morning-church-service.html#breakfast-after-early-morning-church-service">Breakfast after early morning church service</a></h2>
    <p>
      Posted on Sun 15 August 2010 in <a href="http://jon.doblados.net/category/misc.html">misc</a>
      &#8226; Tagged with
      <a href="http://jon.doblados.net/tag/christianity.html">[Christianity</a>,      <a href="http://jon.doblados.net/tag/parenthood.html">Parenthood</a>,      <a href="http://jon.doblados.net/tag/family.html">Family</a>,      <a href="http://jon.doblados.net/tag/galleries.html">Galleries</a>,      <a href="http://jon.doblados.net/tag/miguel.html">Miguel</a>,      <a href="http://jon.doblados.net/tag/personal.html">Personal]</a>      &#8226; <a href="http://jon.doblados.net/breakfast-after-early-morning-church-service.html#disqus_thread">Leave a comment</a>
    </p>
  </header>
  <div>
      <p>Placeholder</p>
  </div>
  <hr />
</article>
<article>
  <header>
    <h2><a href="http://jon.doblados.net/how-to-count-instances-of-an-ip-address-in-a-log-file.html#how-to-count-instances-of-an-ip-address-in-a-log-file">How to count instances of an IP address in a log file</a></h2>
    <p>
      Posted on Sat 24 July 2010 in <a href="http://jon.doblados.net/category/gnulinux-hosting-systems-administration.html">GNU/Linux, Hosting, Systems Administration</a>
      &#8226; <a href="http://jon.doblados.net/how-to-count-instances-of-an-ip-address-in-a-log-file.html#disqus_thread">Leave a comment</a>
    </p>
  </header>
  <div>
      <p>I was looking for a quick and painless way to determine what IP
addresses used our web app the most and stumbled across this excellent
<a href="http://encodable.com/tech/blog/2008/12/17/Count_IP_Addresses_in_Access_Log_File_BASH_OneLiner">post</a>.Â I got reminded of the power of the command-line interface and
that often, I underestimate the way these commands are supposed to make
a sysad's life easier.</p>
<p>So here's a quick tip for counting unique visitors to your web app.
Locate your web app's log file and do a quick scan of the last few
lines. In my case, this is what I saw:</p>
<p><code>112.198.79.223 - - [10/Jul/2010:00:57:29 -0400] "POST /v2/api/execute.php?method=upload_time&amp;ver=win1.1.15 HTTP/1.1" 200 116 "-" "Mozilla/5.0"117.241.112.254 - - [10/Jul/2010:00:57:30 -0400] "POST /v2/api/execute.php?method=timestat&amp;ver=win1.1.15 HTTP/1.1" 200 288 "-" "Mozilla/5.0"80.249.84.105 - - [10/Jul/2010:00:57:29 -0400] "POST /v2/api/execute.php?method=offtime&amp;ver=win1.1.15 HTTP/1.1" 200 19 "-" "Mozilla/5.0"117.241.112.254 - - [10/Jul/2010:00:57:32 -0400] "POST /v2/api/execute.php?method=get_defaults&amp;ver=win1.1.15 HTTP/1.1" 200 77 "-" "Mozilla/5.0"</code></p>
<p>In this log format, the IP address appears first, so we will only need
to get the first set of characters, separated by a space. In order to
count instances of an IP address, we sort the IP addresses so similar IP
addresses are grouped together, then count them. Then we sort them again
so that the sums are arranged. The number of unique IPs may give you
pages of standard output, so optionally, if you only want to see which
IP addresses accessed the web app the most, we look at the top results
only.</p>
<p>So these are the commands used, piped one after the other, with the
output:</p>
<p><code>[root@server2 ~]# cat /var/log/httpd/access_ssl.log | awk '{print $1}' | sort | uniq -c | sort -nr | head&gt;</code></p>
<p><code>71612 216.157.78.237 34094 120.28.205.244 30091 119.93.97.54 25078 120.28.214.104 18949 120.28.195.151 17929 58.107.64.40 14877 212.98.174.235 14752 117.241.112.143 14429 120.28.247.74 12864 117.241.113.183 [root@server2 ~]#</code></p>
<p>Happy counting, err reporting!</p>
  </div>
  <hr />
</article>
<article>
  <header>
    <h2><a href="http://jon.doblados.net/the-things-miguel-does-on-a-usual-day.html#the-things-miguel-does-on-a-usual-day">The things Miguel does on a usual day</a></h2>
    <p>
      Posted on Sat 24 July 2010 in <a href="http://jon.doblados.net/category/misc.html">misc</a>
      &#8226; Tagged with
      <a href="http://jon.doblados.net/tag/family.html">[Family</a>,      <a href="http://jon.doblados.net/tag/miguel.html">Miguel</a>,      <a href="http://jon.doblados.net/tag/personal.html">Personal]</a>      &#8226; <a href="http://jon.doblados.net/the-things-miguel-does-on-a-usual-day.html#disqus_thread">Leave a comment</a>
    </p>
  </header>
  <div>
      <div>
[![](http://jon.doblados.net/wp-content/uploads/2010/07/frame_0000-300x225.png)](http://showme.doblados.net/the-things-miguel-does-on-a-usual-day)  
<div>

**miguel1.mp4**  
[Watch on
Posterous](http://showme.doblados.net/the-things-miguel-does-on-a-usual-day)  

</div>

<p>

</div>


In a month or so he'll be too big to fit in his laundry basket. He has his eye on the bigger hamper in our room.



<div>


[![](http://jon.doblados.net/wp-content/uploads/2010/07/frame_00001-300x225.png)](http://showme.doblados.net/the-things-miguel-does-on-a-usual-day)  
<div>


**miguel2.mp4**  
[Watch on
Posterous](http://showme.doblados.net/the-things-miguel-does-on-a-usual-day)  

</div>

<p>


</div>





He runs around and does the "happy feet". He also likes running while on
top of the air bed, but I can't get any video of that yet as I'm too
busy going after him lest he bounce too hard and hit the wall.

<div>


[![](http://jon.doblados.net/wp-content/uploads/2010/07/frame_00002-300x225.png)](http://showme.doblados.net/the-things-miguel-does-on-a-usual-day)  
<div>


**miguel3.mp4**  
[Watch on
Posterous](http://showme.doblados.net/the-things-miguel-does-on-a-usual-day)  

</div>

<p>


</div>





And he demands his time for "computer work". :)
  </div>
</article>

  <div class="pagination">
    <a class="btn" href="http://jon.doblados.net/index29.html">
      <i class="fa fa-angle-left"></i> Older Posts
    </a>
      <a class="btn float-right" href="http://jon.doblados.net/index27.html">
        Newer Posts <i class="fa fa-angle-right"></i>
      </a>
  </div>

    <footer>
<p>
  &copy; Jon 2015 - This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>
</p>
<p>Built using <a href="http://getpelican.com" target="_blank">Pelican</a> - <a href="https://github.com/alexandrevicenzi/flex" target="_blank">Flex</a> theme by <a href="http://alexandrevicenzi.com" target="_blank">Alexandre Vicenzi</a></p><p>
  <a rel="license"
     href="http://creativecommons.org/licenses/by-sa/4.0/"
     target="_blank">
    <img alt="Creative Commons License"
         title="Creative Commons License"
         style="border-width:0"
         src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png"
         width="80"
         height="15"/>
  </a>
</p>    </footer>
  </main>
<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " A Pelican Blog ",
  "url" : "http://jon.doblados.net",
  "image": "https://dl.dropboxusercontent.com/u/712927/jon_gotchi.png",
  "description": ""
}
</script><script type="text/javascript">
    var disqus_shortname = 'jondoblados';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
</body>
</html>